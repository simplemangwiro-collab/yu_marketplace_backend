{% extends "base.html" %}

{% block content %}
  {% if session.username %}
    <h2>Welcome, {{ session.username }}!</h2>
  {% endif %}
  <h3 class="mb-4">Available Products</h3>

  <!-- Search Bar -->
  <form method="get" action="/items" class="mb-4">
    <div class="input-group">
      <input type="text" name="search" class="form-control" placeholder="Search by product name or seller..." value="{{ request.args.get('search', '') }}">
      <button class="btn btn-outline-secondary" type="submit">Search</button>
    </div>
  </form>

  <!-- Category Filter -->
  <form method="get" action="/items" class="mb-4">
    <label for="category" class="form-label">Filter by Category:</label>
    <select name="category" id="category" class="form-select" onchange="this.form.submit()">
      <option value="">All</option>
      <option value="Stationery" {% if selected_category == 'Stationery' %}selected{% endif %}>Stationery</option>
      <option value="Electronics" {% if selected_category == 'Electronics' %}selected{% endif %}>Electronics</option>
      <option value="Clothing" {% if selected_category == 'Clothing' %}selected{% endif %}>Clothing</option>
    </select>
  </form>
{% endblock %}
